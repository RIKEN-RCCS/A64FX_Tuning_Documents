

<!doctype html>

<html lang="ja" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>&lt;no title&gt; &#8212;   ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css?v=532c1bf3" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=89e52957" />
    
    <script src="../_static/documentation_options.js?v=c033477b"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="search" title="検索" href="../search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">  ドキュメント</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">&lt;no title&gt;</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>項番</p></th>
<th class="head"><p>チューニングの概要</p></th>
<th class="head"><p>チューニングの方法</p></th>
<th class="head"><p>チューニングの狙い</p></th>
<th class="head"><p>対象関数</p></th>
<th class="head"><p>対象関数が含まれる処理区間名</p></th>
<th class="head"><p>本文書での記載箇所</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>小回転ループの一重化およびループ展開</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>プリフェッチ命令の発行</p></td>
<td><p>最適化制御行の追加のみ</p></td>
<td><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>ループ内の配列足し込みの連続アクセス化</p></td>
<td><p>ソースコード変更</p></td>
<td><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>ループ展開</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>ループ展開</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>faddv命令の抑止</p></td>
<td><p>翻訳時オプション変更</p></td>
<td><p>命令数の削減</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>7</p></td>
<td rowspan="2"><p>ループ展開</p></td>
<td rowspan="2"><p>最適化制御行の追加のみ</p></td>
<td rowspan="2"><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>make_function_2</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td rowspan="2"><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>make_function_3</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>マトリクスの非対角項を並び替え</p></td>
<td><p>ソースコード変更</p></td>
<td><p>連続アクセス化</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td rowspan="5"><p>9</p></td>
<td rowspan="5"><p>小回転ループのSIMD化抑止</p></td>
<td rowspan="5"><p>最適化制御行の追加のみ</p></td>
<td rowspan="5"><p>命令数の削減</p></td>
<td><p>calc_function_3</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td rowspan="5"><p>―</p></td>
</tr>
<tr class="row-even"><td><p>make_function_1</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td><p>make_function_4</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-even"><td><p>make_function_5</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td><p>make_function_6</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>除算処理のSIMD化と小回転ループのSIMD化抑止</p></td>
<td><p>ソースコード変更</p></td>
<td><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>calc_function_3</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>4.1節</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>ループ展開によるload/store削減</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>4.2節</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>ループアンスイッチング</p></td>
<td><p>最適化制御行の追加のみ</p></td>
<td><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>make_function_5</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p>ループ展開</p></td>
<td><p>最適化制御行の追加のみ</p></td>
<td><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>make_function_2</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p>領域分割のパラメータ変更</p></td>
<td><p>実行時の設定変更</p></td>
<td><p>MPI並列計算のプロセス間負荷バランスを向上</p></td>
<td><p>―</p></td>
<td><p>―</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p>余分な型変換の削減</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減</p></td>
<td><p>make_function_2</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>ループ一重化によるSIMD化促進</p></td>
<td><p>ソースコード変更</p></td>
<td><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>make_function_6</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>4.3節</p></td>
</tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>ループ分割によるSIMD化促進</p></td>
<td><p>ソースコード変更</p></td>
<td><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>make_function_2</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td rowspan="7"><p>18</p></td>
<td rowspan="7"><p>インライン展開</p></td>
<td rowspan="7"><p>ソースコード変更</p></td>
<td rowspan="7"><p>命令数の削減</p></td>
<td><p>limiter_function_1</p></td>
<td><p>制限関数処理</p></td>
<td rowspan="7"><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>make_function_1</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-even"><td><p>make_function_4</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td><p>make_function_9</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-even"><td><p>calc_function_2</p></td>
<td><p>システム方程式マトリクス計算</p></td>
</tr>
<tr class="row-odd"><td><p>calc_function_3</p></td>
<td><p>システム方程式マトリクス計算</p></td>
</tr>
<tr class="row-even"><td><p>calc_function_5</p></td>
<td><p>システム方程式マトリクス計算</p></td>
</tr>
<tr class="row-odd"><td><p>19</p></td>
<td><p>ループ回転方向変更</p></td>
<td><p>ソースコード変更</p></td>
<td><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>othSolv_function_3</p></td>
<td><p>システム方程式以外の方程式処理</p></td>
<td><p>4.4節</p></td>
</tr>
<tr class="row-even"><td><p>20</p></td>
<td><p>不変式の移動</p></td>
<td><p>ソースコード変更</p></td>
<td><p>レイテンシの隠蔽による演算待ち改善</p></td>
<td><p>make_function_8</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>21</p></td>
<td><p>ループ分割</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>make_function_8</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>22</p></td>
<td><p>ループ内配列のレジスタ化</p></td>
<td><p>ソースコード変更</p></td>
<td><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>make_function_8</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>23</p></td>
<td><p>計算式のコスト削減</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減</p></td>
<td><p>make_function_8</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>24</p></td>
<td><p>SVE ACLEによるSIMD化</p></td>
<td><p>ソースコード変更</p></td>
<td><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>calc_function_4</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>4.5節</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>25</p></td>
<td rowspan="3"><p>ビルトインプリフェッチ</p></td>
<td rowspan="3"><p>ソースコード変更</p></td>
<td rowspan="3"><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>make_function_2</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td rowspan="3"><p>4.6節</p></td>
</tr>
<tr class="row-even"><td><p>make_function_3</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td><p>make_function_7</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-even"><td><p>26</p></td>
<td><p>SIMD化促進のための配列静的確保</p></td>
<td><p>ソースコード変更</p></td>
<td><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>27</p></td>
<td rowspan="2"><p>クローンチューニングおよびループ展開</p></td>
<td rowspan="2"><p>ソースコード変更</p></td>
<td rowspan="2"><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>make_function_6</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td rowspan="2"><p>―</p></td>
</tr>
<tr class="row-even"><td><p>make_function_12</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td><p>28</p></td>
<td><p>除算処理をループの外側に移動しSIMD化</p></td>
<td><p>ソースコード変更</p></td>
<td><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>make_function_7</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>4.7節</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>29</p></td>
<td rowspan="3"><p>ビルトインプリフェッチ</p></td>
<td rowspan="3"><p>ソースコード変更</p></td>
<td rowspan="3"><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>othSolv_function_1</p></td>
<td><p>システム方程式以外の方程式処理</p></td>
<td rowspan="3"><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>othSolv_function_2</p></td>
<td><p>システム方程式以外の方程式処理</p></td>
</tr>
<tr class="row-even"><td><p>othSolv_function_5</p></td>
<td><p>システム方程式以外の方程式処理</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>30</p></td>
<td rowspan="2"><p>インライン展開によるSIMD化促進</p></td>
<td rowspan="2"><p>ソースコード変更</p></td>
<td rowspan="2"><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>function_1</p></td>
<td><p>システム方程式以外の方程式処理</p></td>
<td rowspan="2"><p>―</p></td>
</tr>
<tr class="row-even"><td><p>function_2</p></td>
<td><p>システム方程式以外の方程式処理</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>31</p></td>
<td rowspan="2"><p>スレッド並列化</p></td>
<td rowspan="2"><p>ソースコード変更</p></td>
<td rowspan="2"><p>スレッド並列チューニング</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td rowspan="2"><p>―</p></td>
</tr>
<tr class="row-even"><td><p>make_function_7</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td><p>32</p></td>
<td><p>load命令のスケジューリング改善</p></td>
<td><p>ソースコード変更</p></td>
<td><p>ループ最適化による命令スケジューリングの改善</p></td>
<td><p>othSolv_function_4</p></td>
<td><p>システム方程式以外の方程式処理</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>33</p></td>
<td><p>ループ外への不変式の移動</p></td>
<td><p>ソースコード変更</p></td>
<td><p>ループ最適化による命令スケジューリングの改善</p></td>
<td><p>calc_function_2</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>4.8節</p></td>
</tr>
<tr class="row-odd"><td><p>34</p></td>
<td><p>最適化制御行を使わないループ展開</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>calc_function_4</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>4.9節</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>35</p></td>
<td rowspan="2"><p>ループ内配列のレジスタ化</p></td>
<td rowspan="2"><p>ソースコード変更</p></td>
<td rowspan="2"><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>calc_function_4</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td rowspan="2"><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>calc_function_5</p></td>
<td><p>システム方程式マトリクス計算</p></td>
</tr>
<tr class="row-even"><td><p>36</p></td>
<td><p>ループインターリーブ</p></td>
<td><p>ソースコード変更</p></td>
<td><p>レイテンシの隠蔽による演算待ち改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>37</p></td>
<td><p>余分な型変換の削減</p></td>
<td><p>ソースコード変更</p></td>
<td><p>命令数の削減</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>38</p></td>
<td><p>プリフェッチ命令の発行</p></td>
<td><p>ソースコード変更</p></td>
<td><p>レイテンシの隠蔽によるデータアクセス待ち改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>39</p></td>
<td rowspan="2"><p>ループ一重化</p></td>
<td rowspan="2"><p>ソースコード変更</p></td>
<td rowspan="2"><p>ループ最適化による命令スケジューリングの改善</p></td>
<td><p>make_function_6</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td rowspan="2"><p>―</p></td>
</tr>
<tr class="row-even"><td><p>make_function_5</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>40</p></td>
<td rowspan="3"><p>クローンチューニングおよびインライン展開</p></td>
<td rowspan="3"><p>ソースコード変更</p></td>
<td rowspan="3"><p>命令数の削減、ループ最適化による命令スケジューリングの改善</p></td>
<td><p>make_function_6</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td rowspan="3"><p>―</p></td>
</tr>
<tr class="row-even"><td><p>make_function_5</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-odd"><td><p>make_function_7</p></td>
<td><p>システム方程式マトリクス構築</p></td>
</tr>
<tr class="row-even"><td rowspan="7"><p>41</p></td>
<td rowspan="7"><p>2次元配列のメモリ配置改善</p></td>
<td rowspan="7"><p>ソースコード変更</p></td>
<td rowspan="7"><p>連続アクセス化</p></td>
<td><p>allocate_array</p></td>
<td><p>（アプリケーション全体）</p></td>
<td rowspan="7"><p>4.10節</p></td>
</tr>
<tr class="row-odd"><td><p>clear_array</p></td>
<td><p>（アプリケーション全体）</p></td>
</tr>
<tr class="row-even"><td><p>deallocate_array</p></td>
<td><p>（アプリケーション全体）</p></td>
</tr>
<tr class="row-odd"><td><p>reallocate_array</p></td>
<td><p>（アプリケーション全体）</p></td>
</tr>
<tr class="row-even"><td><p>allocate_array_2</p></td>
<td><p>（アプリケーション全体）</p></td>
</tr>
<tr class="row-odd"><td><p>deallocate_array_2</p></td>
<td><p>（アプリケーション全体）</p></td>
</tr>
<tr class="row-even"><td><p>reallocate_array_2</p></td>
<td><p>（アプリケーション全体）</p></td>
</tr>
<tr class="row-odd"><td><p>42</p></td>
<td><p>項番41の改善をベースとしたSIMD化の改善</p></td>
<td><p>ソースコード変更</p></td>
<td><p>SIMD化の促進による演算待ち改善</p></td>
<td><p>calc_function_1</p></td>
<td><p>システム方程式マトリクス計算</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-even"><td><p>43</p></td>
<td><p>クローンチューニング</p></td>
<td><p>ソースコード変更</p></td>
<td><p>ループ最適化による命令スケジューリングの改善</p></td>
<td><p>make_function_7</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
<tr class="row-odd"><td><p>44</p></td>
<td><p>ビルトインプリフェッチ箇所のSIMD化抑止</p></td>
<td><p>最適化制御行の追加のみ</p></td>
<td><p>命令数の削減</p></td>
<td><p>make_function_7</p></td>
<td><p>システム方程式マトリクス構築</p></td>
<td><p>―</p></td>
</tr>
</tbody>
</table>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../index.html">  ドキュメント</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">&lt;no title&gt;</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, 理化学研究所計算科学研究センター.
    &nbsp;&nbsp;<a href="https://www.fugaku.r-ccs.riken.jp/">Fugaku Portal Top</a>
    </div>
  </body>
</html>